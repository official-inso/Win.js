/**
 * Object for working with pop-up windows
 * @namespace Win
 * @version 1.0
 * @author Roman Zhuzhgov
 * @license MIT
 */
let Win={cfg:{back:!0,forward:!0,fullSize:!1,color:"7de31e",swipe:{close:!0,back:!0},debug:!1,style:"",script:"",path:"./windows",selectorWin:"body",events:{winOpen:{name:"winOpen"},winClose:{name:"winClose"},winCloseAll:{name:"winCloseAll"},winBack:{name:"winBack"},forward:{name:"winForward"},winFullSize:{name:"winFullSize"},winMinSize:{name:"winMinSize"},winHistoryNew:{name:"winHistoryNew"}}},init:async i=>{if(null!=i){if(null!=i.style){const s=document.createElement("link");s.rel="stylesheet",s.type="text/css",s.href=i.style,document.head.appendChild(s),Win.cfg.style=i.style}if(null!=i.debug&&(!1!==i.debug&&!0!==i.debug||(Win.cfg.debug=i.debug)),null!=i.back&&(!1!==i.back&&!0!==i.back||(Win.cfg.back=i.back)),null!=i.forward&&(!1!==i.forward&&!0!==i.forward||(Win.cfg.forward=i.forward)),null!=i.fullSize&&(!1!==i.fullSize&&!0!==i.fullSize||(Win.cfg.fullSize=i.fullSize)),null!=i.script){const o=document.createElement("script");o.src=i.script,document.body.appendChild(o),Win.cfg.script=i.script}null!=i.path&&"string"==typeof i.path&&(Win.cfg.path=i.path),null!=i.color&&"string"==typeof i.color&&(Win.cfg.color=i.color),null!=i.selectorWin&&"string"==typeof i.selectorWin&&(Win.cfg.selectorWin=i.selectorWin),null!=i.swipe&&"object"==typeof i.swipe&&(i.swipe.back,i.swipe.close)}let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");if(n='/* window (start) */\n html {\n \t--win-color: #303036;\n \t--win-bg: #fff;\n \t--win-bg-main: #%MAINCOLOR%;\n \t--win-bg-main-opacity: #%MAINCOLOR%75;\n  \t--win-bg-main-hover: #%MAINCOLOR%29;\n \t--win-shadow-color: rgba(104, 104, 104, 0.1);\n \t--win-shadow: 0 0 13px 0 var(--win-shadow-color);\n \t--win-trans-esm: 0.1s all cubic-bezier(0.7, 0, 0.3, 1);\n \t--win-trans-sm: 0.15s all cubic-bezier(0.7, 0, 0.3, 1);\n \t--win-trans-md: 0.25s all cubic-bezier(0.7, 0, 0.3, 1);\n \t--win-trans-lg: 0.5s all cubic-bezier(0.7, 0, 0.3, 1);\n \t--win-trans-elg: 0.8s all cubic-bezier(0.7, 0, 0.3, 1);\n \t--win-radius-esm: 1px;\n \t--win-radius-sm: 2px;\n \t--win-radius-md: 5px;\n \t--win-radius-lg: 8px;\n \t--win-radius-elg: 12px;\n }\n .windows {\n \tposition: fixed;\n \theight: 100vh;\n \twidth: 100vw;\n \tz-index: 999999999;\n \topacity: 0;\n \ttop: 0;\n \tleft: 0;\n \tpointer-events: none;\n \ttransition: var(--win-trans-md);\n \tcontain: content;\n }\n .windows[active] {\n \topacity: 1;\n \tpointer-events: auto;\n }\n .windows-shadow {\n \theight: 100%;\n \twidth: 100%;\n \tposition: fixed;\n \tbackground-color: #000000;\n \topacity: 0.65;\n \tz-index: 5;\n }\n .windows-window {\n \tposition: absolute;\n \tpadding: 20px;\n \tborder-radius: var(--win-radius-lg);\n \tmax-width: 750px;\n \tmax-height: 85vh;\n \tmin-height: 50px;\n \tmin-width: 250px;\n \ttransform: translate(-50%, 100px);\n \tz-index: 10;\n \tpadding-bottom: 0px;\n \tleft: 50vw;\n \ttop: 50vh;\n \tmargin: auto;\n \tbackground-color: var(--win-bg);\n \topacity: 0;\n \tpointer-events: none;\n \ttransition: var(--win-trans-lg);\n \toverflow: hidden;\n }\n .windows-window[active] {\n \topacity: 1;\n \tpointer-events: auto;\n \ttransform: translate(-50%, -50%);\n \tz-index: 999;\n }\n .windows-window[active]~.windows-shadow {\n \tz-index: 11;\n }\n .windows-window[big] {\n \twidth: calc(100vw - 80px);\n \tpadding: 20px 30px;\n \tmax-width: 500px;\n }\n .windows-back[back] {\n \tdisplay: inline-block;\n \theight: 27px;\n \twidth: 27px;\n \ttext-align: center;\n \tpadding-top: 1px;\n \tborder-radius: var(--win-radius-md);\n \tmargin-right: 6px;\n \tcursor: pointer;\n \ttransition: var(--win-trans-md);\n }\n .windows-back[back]:hover {\n \tbackground-color: var(--win-bg-main-hover);\n }\n .windows-window-close {\n \tposition: absolute;\n \theight: 25px;\n \twidth: 25px;\n \tright: 15px;\n \ttop: 15px;\n \ttext-align: center;\n \tline-height: 25px;\n \tborder-radius: 500px;\n \tcursor: pointer;\n \tcolor: var(--win-color);\n \tfont-size: 20px;\n \tfont-weight: 700;\n \ttransition: var(--win-trans-sm);\n \topacity: 0;\n \tz-index: 99;\n \tpointer-events: none;\n }\n .windows-window-close:before {\n \tcontent: "";\n \tbackground-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiB2aWV3Qm94PSIwIDAgNjEyLjA0MyA2MTIuMDQzIj4NCgk8cGF0aCBzdHlsZT0nZmlsbDogIzExMTsnIGQ9Ik0zOTcuNTAzLDMwNi4wMTFsMTk1LjU3Ny0xOTUuNTc3YzI1LjI3LTI1LjI2OSwyNS4yNy02Ni4yMTMsMC05MS40ODJjLTI1LjI2OS0yNS4yNjktNjYuMjEzLTI1LjI2OS05MS40ODEsMCBMMzA2LjAyMiwyMTQuNTUxTDExMC40NDUsMTguOTc0Yy0yNS4yNjktMjUuMjY5LTY2LjIxMy0yNS4yNjktOTEuNDgyLDBzLTI1LjI2OSw2Ni4yMTMsMCw5MS40ODJMMjE0LjU0LDMwNi4wMzNMMTguOTYzLDUwMS42MSBjLTI1LjI2OSwyNS4yNjktMjUuMjY5LDY2LjIxMywwLDkxLjQ4MWMyNS4yNjksMjUuMjcsNjYuMjEzLDI1LjI3LDkxLjQ4MiwwbDE5NS41NzctMTk1LjU3NmwxOTUuNTc3LDE5NS41NzYgYzI1LjI2OSwyNS4yNyw2Ni4yMTMsMjUuMjcsOTEuNDgxLDBjMjUuMjctMjUuMjY5LDI1LjI3LTY2LjIxMywwLTkxLjQ4MUwzOTcuNTAzLDMwNi4wMTF6Ii8+DQo8L3N2Zz4NCg==");\n \theight: 25px;\n \twidth: 25px;\n \tbackground-position: center;\n \tbackground-repeat: no-repeat;\n \tbackground-size: 13px;\n \tposition: absolute;\n \tleft: 0;\n }\n .windows-window[active] .windows-window-close[active] {\n \topacity: 0.65;\n \tpointer-events: auto;\n }\n .windows-window[active] .windows-window-close[active]:hover {\n \topacity: 1;\n }\n .windows-window-close-mobile_full {\n \tposition: absolute;\n \theight: 30px;\n \twidth: 30px;\n \tright: 10px;\n \ttop: 10px;\n \tcursor: pointer;\n \tborder-radius: var(--win-radius-md);\n \tpointer-events: none;\n \topacity: 0;\n \tz-index: 99;\n \ttransition: var(--win-trans-lg);\n }\n .windows-window[full] .windows-window-close-mobile_full {\n \tpointer-events: auto;\n \topacity: 1;\n }\n .windows-window[full] .windows-window-close-mobile_full:before {\n \ttransform: rotate(-45deg);\n }\n .windows-window[full] .windows-window-close-mobile_full:after {\n \ttransform: rotate(45deg);\n }\n .windows-window-close-mobile_full:before {\n \tcontent: "";\n \theight: 60%;\n \twidth: 2px;\n \tbackground-color: var(--win-color);\n \tposition: absolute;\n \tleft: 0;\n \tright: 0;\n \ttop: 0;\n \tbottom: 0;\n \tmargin: auto;\n \ttransform: rotate(90deg);\n \tborder-radius: var(--win-radius-elg);\n \ttransition: var(--win-trans-lg);\n }\n .windows-window-close-mobile_full:after {\n \tcontent: "";\n \theight: 60%;\n \twidth: 2px;\n \tbackground-color: var(--win-color);\n \tposition: absolute;\n \tleft: 0;\n \tright: 0;\n \ttop: 0;\n \tbottom: 0;\n \tmargin: auto;\n \ttransform: rotate(90deg);\n \tborder-radius: var(--win-radius-elg);\n \ttransition: var(--win-trans-lg);\n }\n .windows-window-title {\n \tposition: relative;\n \tfont-weight: 700;\n \tfont-size: 22px;\n \twidth: calc(100% - 35px);\n \tz-index: 1;\n }\n .windows-window-content {\n \tposition: relative;\n \twidth: 100%;\n \tfont-weight: 300;\n \toverflow: auto;\n \tmargin-top: 10px;\n \tscroll-behavior: smooth;\n \tborder-radius: 0px;\n \tcontain: content;\n }\n .windows-window *[text]:empty {\n \tdisplay: none;\n }\n .windows-window-content::-webkit-scrollbar {\n \tdisplay: none;\n }\n .windows-window-content::-moz-scrollbar {\n \tdisplay: none;\n }\n .windows-window-content::-ms-scrollbar {\n \tdisplay: none;\n }\n .windows-window-content::-o-scrollbar {\n \tdisplay: none;\n }\n .windows-window-content-div {\n \tmax-height: calc(85vh - 60px);\n}\n .windows-window-content-div content {\n \tpadding-bottom: 20px;\n \t display: block; \n \t}\n @media only screen and (max-width: 500px) and (min-width: 10px) {\n \thtml {\n \t  --win-radius-esm: 6px;\n \t  --win-radius-sm: 7px;\n \t  --win-radius-md: 9px;\n \t  --win-radius-lg: 16px;\n \t  --win-radius-elg: 22px;\n \t}\n \t.windows-window {\n \t  position: fixed;\n \t  max-width: initial;\n \t  max-height: initial;\n \t  min-height: initial;\n \t  min-width: initial;\n \t  width: calc(100vw - 60px);\n \t  transform: translate(-50%, 100%);\n \t  opacity: 0;\n \t  top: initial;\n \t  bottom: 0px;\n \t  will-change: transform, opacity, border-radius, height, width;\n \t}\n \t.windows-window-close {\n \t  height: 15px;\n \t  background-color: transparent;\n \t  width: 100%;\n \t  left: 0;\n \t  right: 0;\n \t  top: 0;\n \t  border-radius: 0px;\n \t}\n \t.windows-window-close:before {\n \t  content: "";\n \t  height: 5px;\n \t  width: 40px;\n \t  background-color: #7575755c;\n \t  position: absolute;\n \t  top: 0;\n \t  bottom: 0;\n \t  left: 0;\n \t  right: 0;\n \t  margin: auto;\n \t  border-radius: var(--win-radius-elg);\n \t  background-image: none;\n \t}\n \t.windows-window-close:hover {\n \t  opacity: 0.75;\n \t  background-color: #80808042;\n \t}\n \t.windows-window-close:active:before {\n \t  background-color: var(--win-bg-main);\n \t}\n \t.windows-window[big] {\n \t  width: calc(100vw - 80px);\n \t  padding: 20px 30px;\n \t  max-width: 500px;\n \t}\n \t.windows-window[active] {\n \t  transform: translate(-50%, -10px);\n \t   opacity: 1;\n \t  transform-origin: center bottom;\n \t}\n \t.windows-window[full] {\n \t  height: calc(100vh - 40px);\n \t  transform: translate(-50%, 0px);\n \t  width: calc(100vw - 39px);\n \t  /* calc(100vw - 59px) */\n \t  border-radius: 0px;\n \t}\n \t.windows-window[big] .windows-window-content {\n \t  height: 100%;\n \t}\n \t.windows-window .windows-window-content {\n \t  height: 95%;\n \t}\n \t.windows-window-title {\n \t  max-width: 100% !important;\n \t}\n }\n /* window (end) */\n'.replace(/%MAINCOLOR%/g,Win.cfg.color),t.type="text/css",t.setAttribute("data-type-object","lib"),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n)),e.appendChild(t),document.getElementsByClassName("windows").length<1){let e=document.createElement("div");e.className="windows",e.innerHTML='<div class="windows-shadow"></div>',("body"==Win.cfg.selectorWin?document.getElementsByTagName("body")[0]:document.querySelector(Win.cfg.selectorWin)).prepend(e)}var n=document.getElementsByClassName("windows-shadow");Array.prototype.forEach.call(n,e=>{e.addEventListener("click",function(e){Win.close()})}),document.addEventListener("click",function(e){var t;e.target.classList.contains("windows-window-close")&&(t=e.target.parentElement.getAttribute("id"),Win.close(t)),e.target.classList.contains("windows-window-close-mobile_full")&&(e=e.target.parentElement.getAttribute("id"),Win.close(e))}),document.addEventListener("click",function(e){e.target.hasAttribute("back")&&e.target.parentElement.classList.contains("windows-window-title")&&Win.close({type:"back"})}),document.addEventListener("click",function(e){e.target.hasAttribute("forward")&&e.target.parentElement.classList.contains("windows-window-title")&&Win.close({type:"forward"})}),window.addEventListener("resize",function(){document.querySelectorAll(".windows-window").forEach(e=>{e.style.width="",e.style.height="",e.style.borderRadius="",e.style.transform=""}),500<document.documentElement.clientWidth?document.querySelectorAll(".windows-window-content-div").forEach(e=>{e.style.paddingTop=""}):document.querySelectorAll(".windows-window-content").forEach(e=>{50<e.scrollTop?e.querySelector(".windows-window-content-div").style.paddingTop="50px":e.querySelector(".windows-window-content-div").style.paddingTop=""})}),null!=i.load&&"object"==typeof i.load&&("number"!=typeof i.loadDelay&&(i.loadDelay=0),"boolean"!=typeof i.loadOutput&&(i.loadOutput=!0),new Promise((e,t)=>{setTimeout(async()=>{for(const t in i.load){var e;!Object.hasOwnProperty.call(i.load,t)||null!=(e=await Win.service.load(t,i.load[t]))&&(i.loadOutput?await Win.service.output(e,t,i.load[t]):Win.service.await.add({res:e,name:t,params:i.load[t]}))}},i.loadDelay),e(Win.service.await)})),document.body.addEventListener("touchstart",function(e){var t=e.target.closest("*[swipe-window]");t&&Win.service.events.swipe.start(t,e)}),document.body.addEventListener("touchmove",function(e){var t=e.target.closest("*[swipe-window]");t&&Win.service.events.swipe.move(t,e)}),document.body.addEventListener("touchend",function(e){var t=e.target.closest("*[swipe-window]");t&&Win.service.events.swipe.end(t,e)}),Object.defineProperty(window,"__LINE__",{get:function(){return Win.service.getLine(2)}})},open:async(r,a,t=!0)=>{let c=Win.cfg.fullSize,n=Win.cfg.back,s=void 0;null!=a&&(null==a.update&&(a.update=!1),a.update&&null!=document.getElementById(r)&&document.getElementById(r).remove(),"string"==typeof a.content&&(s=a.content),null!=a.fullSize&&"boolean"==typeof a.fullSize&&(c=a.fullSize));let o;if(null!=r){var l=null!=document.getElementById(r);let e=!1;if(null!=a&&null!=a.update&&0!=a.update||(e=Win.service.await.find(r)),o=0!=e?e:null==s?await Win.service.load(r,a):"content",null!=a&&null!=a.back&&"boolean"==typeof a.back&&(n=a.back),null!=o||l){let i=!1;if(l)i=!0;else{let e,t={name:r,res:o.res,params:a,bck:n};null!=o.params&&(t.params=o.params),"basic"==o.type&&(t.res=o),e=null==s?await Win.service.output(t.res,t.name,t.params):Win.service.outputLocal(s,t.name,t.params),e&&(i=!0)}if(i){l=Win.live("name");let s=document.getElementsByClassName("windows")[0],i=10;Win.live("name")!=r&&t&&(Win.service.log("Записываем в историю окно.",void 0,void 0,__LINE__),Win.service.history.add({name:r,params:a},t)),l&&(l==r&&(i=1e3*parseFloat(window.getComputedStyle(s.querySelector("#"+l)).transitionDuration)-100,i<10&&(i=10)),Win.service.log("Закрываем текущее окно с именем: "+l,void 0,void 0,__LINE__),Array.prototype.forEach.call(s.querySelectorAll(".windows-window"),e=>{e.removeAttribute("active")}));let o=s.querySelector(".windows-window#"+r);return new Promise((e,t)=>{setTimeout(()=>{s.setAttribute("active",""),o.setAttribute("active","");try{a.title&&(o.querySelector("*[title]").innerText=a.title)}catch(e){}Win.service.log("Открытие окна.",void 0,void 0,__LINE__),document.dispatchEvent(new CustomEvent(Win.cfg.events.winOpen.name,{detail:{name:r,container:o.querySelector(".windows-window-content-div content")}})),s.querySelectorAll("*").forEach(e=>{data_tabindex=e.getAttribute("data-tabindex"),tabindex=e.getAttribute("tabindex"),null==data_tabindex?e.removeAttribute("tabindex"):(e.setAttribute("tabindex",data_tabindex),e.setAttribute("data-tabindex",data_tabindex))}),0<Win.service.history.active?document.querySelectorAll(".windows-window#"+r+" .windows-window-title button[back]").forEach(e=>{e.setAttribute("visibility","visible"),e.removeAttribute("disabled")}):document.querySelectorAll(".windows-window#"+r+" .windows-window-title button[back]").forEach(e=>{e.setAttribute("visibility","hidden"),e.setAttribute("disabled","disabled")}),Win.service.history.active<Win.service.history.arr.length&&Win.service.history.active+1!=Win.service.history.arr.length&&1!=Win.service.history.arr.length&&0<=Win.service.history.active?document.querySelectorAll(".windows-window#"+r+" .windows-window-title button[forward]").forEach(e=>{e.setAttribute("visibility","visible"),e.removeAttribute("disabled")}):document.querySelectorAll(".windows-window#"+r+" .windows-window-title button[forward]").forEach(e=>{e.setAttribute("visibility","hidden"),e.setAttribute("disabled","disabled")});const e=document.querySelector(".windows-window#"+r+" .windows-window-content[swipenone]");var t=e.scrollHeight,i=e.getClientRects()[0].height;const n=e.parentElement;e.scrollTop=0,i<t-100&&(null!=n.getAttribute("full")?n.style.height="":n.style.height="calc(85vh - 9px)",null!=n.querySelector(".windows-window-title")&&(i=Win.service.getLines(n.querySelector(".windows-window-title")),t=n.querySelector(".windows-window-title").getBoundingClientRect().height/i*(i-1),e.style.height=0<t?`calc(95% - ${t}px)`:0==i?"100%":"95%")),c&&(e.removeEventListener("scroll",Win.service.events.scroll),e.addEventListener("scroll",Win.service.events.scroll))},i),e({name:r,container:document.getElementById(r).querySelector(".windows-window-content-div content")})})}}else Win.service.log("Ошибка! Возможно вы указали не верное ID окна или путь к нему.","error",void 0,__LINE__)}else Win.service.log("Ошибка! Не указано ID окна, которое будет открыто.","error",void 0,__LINE__)},close:s=>{if(null==s){Win.service.log("Закрытие всех окн.",void 0,void 0,__LINE__);let n=!1;return null==document.getElementById(s)&&(n=!1),new Promise(e=>{var t=document.getElementsByClassName("windows-window");document.getElementsByClassName("windows")[0].removeAttribute("active");for(const i of t)i.removeAttribute("active");n=!0,document.dispatchEvent(new CustomEvent(Win.cfg.events.winCloseAll.name,{detail:{name:void 0,container:void 0}})),Win.service.log("Закрытие всех окн. Завершилось со статусом "+n,void 0,void 0,__LINE__),Win.service.history.arr=[],Win.service.history.active=-1,document.querySelectorAll(".windows-window .windows-window-content[swipenone]").forEach(e=>{e.scrollTop=0}),setTimeout(()=>{document.querySelectorAll(".windows-window").forEach(e=>{e.style.transform="",e.style.height="",e.style.width="",e.style.borderRadius="",e.removeAttribute("full")})},600),document.getElementsByClassName("windows")[0].querySelectorAll("*").forEach(e=>{tabindex=e.getAttribute("tabindex"),null==tabindex||e.setAttribute("data-tabindex",tabindex),e.setAttribute("tabindex","-1")}),e({name:s,status:n})})}if("string"==typeof s){Win.service.log("Закрытие окна: "+s,void 0,void 0,__LINE__);let t=!1;return null==document.getElementById(s)&&(t=!1),new Promise(e=>{document.getElementById(s).removeAttribute("active"),document.getElementsByClassName("windows")[0].removeAttribute("active"),t=!0,document.dispatchEvent(new CustomEvent(Win.cfg.events.winClose.name,{detail:{name:s,container:document.getElementById(s).querySelector(".windows-window-content-div content")}})),Win.service.log("Закрытие окна: "+s+". Завершилось со статусом "+t,void 0,void 0,__LINE__),Win.service.history.arr=[],Win.service.history.active=-1,document.querySelectorAll(".windows-window .windows-window-content[swipenone]").forEach(e=>{e.scrollTop=0}),setTimeout(()=>{document.querySelectorAll(".windows-window").forEach(e=>{e.style.transform="",e.style.height="",e.style.width="",e.style.borderRadius="",e.removeAttribute("full")})},600),document.getElementsByClassName("windows")[0].querySelectorAll("*").forEach(e=>{tabindex=e.getAttribute("tabindex"),null==tabindex||e.setAttribute("data-tabindex",tabindex),e.setAttribute("tabindex","-1")}),e({name:s,status:t})})}if("object"==typeof s){if(null==s.type)return!1;if("close"==s.type)return Win.close(s.type);if("closeAll"==s.type)return Win.close();if("forward"==s.type){let t=Win.live("name");if(0==Win.service.history.arr.length)return Win.service.log("Ошибка! Вернуться вперед нельзя, так как массив пустой","error",void 0,__LINE__),new Promise(e=>{e({status:!1})});if(1==Win.service.history.arr.length)return Win.service.log("Ошибка! Вернуться вперед нельзя, так как было открыто всего 1 окно в текущем сеансе просмотра всплывающих окон","error",void 0,__LINE__),new Promise(e=>{e({status:!1})});if(Win.service.history.arr.length==Win.service.history.active+1)return Win.service.log("Ошибка! Нельзя перейти вперед если небыло действий назад","error",void 0,__LINE__),new Promise(e=>{e({status:!1})});Win.service.history.active++;let i=Win.service.history.arr[Win.service.history.active];Win.open(i.name,i.params,!1).then(()=>new Promise(e=>{document.dispatchEvent(new CustomEvent(Win.cfg.events.forward.name,{detail:{old:{name:t,container:document.getElementById(t).querySelector(".windows-window-content-div content")},new:{name:i.name,container:document.getElementById(i.name).querySelector(".windows-window-content-div content")}}})),e({status:!0})})).catch(t=>new Promise(e=>{e({e:t,status:!1})}))}if("back"==s.type){if(Win.service.history.arr.length<=1)return Win.service.log("Ошибка! Вернуться назад нельзя, так как массив пустой","error"),new Promise(()=>({status:!1}));if(Win.service.history.active=Win.service.history.active-1,Win.service.history.active<=0&&(Win.service.history.active=0),0<=Win.service.history.active){let t=Win.live("name");t!=Win.service.history.arr[Win.service.history.active].name&&Win.open(Win.service.history.arr[Win.service.history.active].name,Win.service.history.arr[Win.service.history.active].params,!1).then(e=>(document.dispatchEvent(new CustomEvent(Win.cfg.events.winBack.name,{detail:{old:{name:t,container:document.getElementById(t).querySelector(".windows-window-content-div content")},new:{name:Win.service.history.arr[Win.service.history.active].name,container:document.getElementById(Win.service.history.arr[Win.service.history.active].name).querySelector(".windows-window-content-div content")}}})),new Promise(()=>({data:e,status:!0})))).catch(e=>new Promise(()=>({e:e,status:!1})))}}}else Win.service.log("Ошибка! Вы указали не верный формат объекта закрытия окна.","error",void 0,__LINE__)},live:(e="object",t=!1)=>e.match(/^object$/iu)?null!=document.querySelector(".windows[active] > div.windows-window[active]")&&(!0===t?{elem:document.querySelector(".windows[active] > div.windows-window[active]"),settings:Win.service.history.arr[Win.service.history.active]}:document.querySelector(".windows[active] > div.windows-window[active]")):e.match(/^name$/iu)?null!=document.querySelector(".windows[active] > div.windows-window[active]")&&(!0===t?{elem:document.querySelector(".windows[active] > div.windows-window[active]").getAttribute("id"),settings:Win.service.history.arr[Win.service.history.active]}:document.querySelector(".windows[active] > div.windows-window[active]").getAttribute("id")):(Win.service.log("Ошибка! Указан неправильный аргумент метода.","error",void 0,__LINE__),!1),status:t=>{if("object"==typeof t)return t.classList.contains("windows-window")?{id:t.getAttribute("id"),status:null!=t.getAttribute("active")}:{id:void 0,status:!1};if("string"!=typeof t)return{id:void 0,status:!1};{let e=document.getElementById(t);return null==e?{id:void 0,status:!1}:{id:e.getAttribute("id"),status:null!=e.getAttribute("active")}}},get:e=>{e=document.querySelector(`#${e}`);return null!=e&&e},service:{history:{active:-1,arr:[],add:(e,t=!0)=>(0<Win.service.history.arr.length?Win.service.history.arr[Win.service.history.arr.length-1].name!=e.name&&t&&(Win.service.history.arr.push(e),++Win.service.history.active,document.dispatchEvent(new CustomEvent(Win.cfg.events.winHistoryNew.name,{detail:{params:e,container:document.getElementById(e.name).querySelector(".windows-window-content-div content"),active:Win.service.history.active,history:Win.service.history.arr}}))):t&&(Win.service.history.arr.push(e),++Win.service.history.active,document.dispatchEvent(new CustomEvent(Win.cfg.events.winHistoryNew.name,{detail:{params:e,container:document.getElementById(e.name).querySelector(".windows-window-content-div content"),active:Win.service.history.active,history:Win.service.history.arr}}))),Win.service.history.arr),del:()=>{var e=Win.service.history.arr.pop();return document.dispatchEvent(new CustomEvent(Win.cfg.events.winHistorydel.name,{detail:{params:e,active:Win.service.history.active}})),e}},log:(e,t="log",i,n)=>{Win.cfg.debug&&(t.match(/^(log)$/iu)&&(null==i?console.log(e,"LOG_LINE: "+n):console.log(e,i,"LOG_LINE: "+n)),t.match(/^(error)$/iu)&&(null==i?console.error(e,"ERROR_LINE: "+n):console.error(e,i,"ERROR_LINE: "+n)),t.match(/^(warn)$/iu)&&(null==i?console.warn(e,"WARN_LINE: "+n):console.warn(e,i,"WARN_LINE: "+n)),t.match(/^(table)$/iu)&&(null==i?console.table(e):console.table(e,i)))},load:async(e,t)=>{let i;var n=null!=document.getElementById(e);let s=!1;return null!=t&&null!=t.update&&(s=1==t.update),n?s?(Win.service.log("Окно найдено на странице и сейчас оно будет обновлено.",void 0,void 0,__LINE__),null==t?"string"==typeof e?(Win.service.log("Идет загрузка окна.",void 0,void 0,__LINE__),i=await fetch(Win.cfg.path+"/"+e+".html").then(e=>(Win.service.log("Загрузка окна закончена.",void 0,void 0,__LINE__),e)).catch(e=>{404==e.status?Win.service.log("Ошибка! Данное окно не было найдено по указанному пути.","error",e,__LINE__):Win.service.log("Ошибка! При загрузке окна произошла ошибка, более детальная информация: ","error",e,__LINE__)})):Win.service.log("Ошибка! Путь к файлу не является строкой","error",void 0,__LINE__):"object"==typeof t?null!=t.path?"string"==typeof t.path?(Win.service.log("Идет загрузка окна.",void 0,void 0,__LINE__),i=await fetch(t.path).then(e=>(Win.service.log("Загрузка окна закончена.",void 0,void 0,__LINE__),e)).catch(e=>{404==e.status?Win.service.log("Ошибка! Данное окно не было найдено по указанному пути.","error",e,__LINE__):Win.service.log("Ошибка! При загрузке окна произошла ошибка, более детальная информация: ","error",e,__LINE__)})):Win.service.log("Ошибка! Путь к файлу не является строкой.","error",void 0,__LINE__):"string"==typeof e?(Win.service.log("Идет загрузка окна.",void 0,void 0,__LINE__),i=await fetch(Win.cfg.path+"/"+e+".html").then(e=>(Win.service.log("Загрузка окна закончена.",void 0,void 0,__LINE__),e)).catch(e=>{404==e.status?Win.service.log("Ошибка! Данное окно не было найдено по указанному пути.","error",e,__LINE__):Win.service.log("Ошибка! При загрузке окна произошла ошибка, более детальная информация: ","error",e,__LINE__)})):Win.service.log("Ошибка! Путь к файлу не является строкой","error",void 0,__LINE__):Win.service.log("Ошибка! Аргумент с параметрами указан не верно.","error",void 0,__LINE__)):Win.service.log("Окно на странице найдено.",void 0,void 0,__LINE__):(Win.service.log("Окно на странице не найдено, сейчас оно будет загружено.","log",void 0,__LINE__),null==t?"string"==typeof e?(Win.service.log("Идет загрузка окна.",void 0,void 0,__LINE__),i=await fetch(Win.cfg.path+"/"+e+".html").then(e=>(Win.service.log("Загрузка окна закончена.",void 0,void 0,__LINE__),e)).catch(e=>{404==e.status?Win.service.log("Ошибка! Данное окно не было найдено по указанному пути.","error",e,__LINE__):Win.service.log("Ошибка! При загрузке окна произошла ошибка, более детальная информация: ","error",e,__LINE__)})):Win.service.log("Ошибка! Путь к файлу не является строкой","error",void 0,__LINE__):"object"==typeof t?null!=t.path?"string"==typeof t.path?(Win.service.log("Идет загрузка окна.",void 0,void 0,__LINE__),i=await fetch(t.path).then(e=>(Win.service.log("Загрузка окна закончена.",void 0,void 0,__LINE__),e)).catch(e=>{404==e.status?Win.service.log("Ошибка! Данное окно не было найдено по указанному пути.","error",e,__LINE__):Win.service.log("Ошибка! При загрузке окна произошла ошибка, более детальная информация: ","error",e,__LINE__)})):Win.service.log("Ошибка! Путь к файлу не является строкой.","error",void 0,__LINE__):"string"==typeof e?(Win.service.log("Идет загрузка окна.",void 0,void 0,__LINE__),i=await fetch(Win.cfg.path+"/"+e+".html").then(e=>(Win.service.log("Загрузка окна закончена.",void 0,void 0,__LINE__),e)).catch(e=>{404==e.status?Win.service.log("Ошибка! Данное окно не было найдено по указанному пути.","error",e,__LINE__):Win.service.log("Ошибка! При загрузке окна произошла ошибка, более детальная информация: ","error",e,__LINE__)})):Win.service.log("Ошибка! Путь к файлу не является строкой","error",void 0,__LINE__):Win.service.log("Ошибка! Аргумент с параметрами указан не верно.","error",void 0,__LINE__)),i},output:async(i,n,s)=>{if(null!=document.getElementById(n))return Win.service.log("Ошибка! При попытке добавить окно полученное с севрера, было обнаружно уже существование данного окна: "+n,"error",void 0,__LINE__),!1;if("object"!=typeof i)return Win.service.log("Ошибка! Ответ от сервера не является объектом, более детальная информация: ","error",i,__LINE__),!1;if(i.ok){let e=document.querySelector(".windows"),t="";return t+=`<div class='windows-window' swipe-window id='${n}'>\n`,t+="  <div class='windows-window-close' active></div>\n",t+="  <div class='windows-window-close-mobile_full'></div>\n","object"==typeof s?(null==s.back&&(s.back=Win.cfg.back),null==s.title?Win.cfg.back&&s.back?(t+="  <div class='windows-window-title'>\n",t+="    <button back>Назад</button>\n",Win.cfg.forward&&(t+="    <button forward>Вперед</button>\n"),t+=`    <span title>${n}</span>\n`,t+="  </div>\n"):t+=`  <div class='windows-window-title' title>${n}</div>\n`:Win.cfg.back&&s.back?(t+="  <div class='windows-window-title'>\n",t+="    <button back>Назад</button>\n",Win.cfg.forward&&(t+="    <button forward>Вперед</button>\n"),t+=`    <span title>${s.title}</span>\n`,t+="  </div>\n"):t+=`  <div class='windows-window-title' title>${s.title}</div>\n`):Win.cfg.back?(t+="  <div class='windows-window-title'>\n",t+="    <button back>Назад</button>\n",Win.cfg.forward&&(t+="    <button forward>Вперед</button>\n"),t+=`    <span title>${n}</span>\n`,t+="  </div>\n"):t+=`  <div class='windows-window-title' title>${n}</div>\n`,"object"==typeof s&&""==s.title?t+="  <div class='windows-window-content' style='margin-top: 0px;' swipenone>\n":t+="  <div class='windows-window-content' swipenone>\n",t+="    <div class='windows-window-content-div'><content>",t+=await i.text(),t+="</content></div>\n",t+="  </div>\n",t+="</div>\n",e.insertAdjacentHTML("afterbegin",t),!0}return 404==i.status?Win.service.log("Ошибка! Данное окно не было найдено по указанному пути.","error",i,__LINE__):Win.service.log("Ошибка! Ответ от сервера не является положительным, более детальная информация: ","error",i,__LINE__),!1},outputLocal:async(i,n,s)=>{if(null!=document.getElementById(n))return Win.service.log("Ошибка! При попытке добавить окно полученное с севрера, было обнаружно уже существование данного окна: "+n,"error",void 0,__LINE__),!1;{let e=document.querySelector(".windows"),t="";return t+=`<div class='windows-window' swipe-window id='${n}'>\n`,t+="  <div class='windows-window-close' active></div>\n",t+="  <div class='windows-window-close-mobile_full'></div>\n","object"==typeof s?(null==s.back&&(s.back=Win.cfg.back),null==s.title?Win.cfg.back&&s.back?(t+="  <div class='windows-window-title'>\n",t+="    <button back>Назад</button>\n",Win.cfg.forward&&(t+="    <button forward>Вперед</button>\n"),t+=`    <span title>${n}</span>\n`,t+="  </div>\n"):t+=`  <div class='windows-window-title' title>${n}</div>\n`:Win.cfg.back&&s.back?(t+="  <div class='windows-window-title'>\n",t+="    <button back>Назад</button>\n",Win.cfg.forward&&(t+="    <button forward>Вперед</button>\n"),t+=`    <span title>${s.title}</span>\n`,t+="  </div>\n"):t+=`  <div class='windows-window-title' title>${s.title}</div>\n`):Win.cfg.back?(t+="  <div class='windows-window-title'>\n",t+="    <button back>Назад</button>\n",Win.cfg.forward&&(t+="    <button forward>Вперед</button>\n"),t+=`    <span title>${n}</span>\n`,t+="  </div>\n"):t+=`  <div class='windows-window-title' title>${n}</div>\n`,"object"==typeof s&&""==s.title?t+="  <div class='windows-window-content' style='margin-top: 0px;' swipenone>\n":t+="  <div class='windows-window-content' swipenone>\n",t+="    <div class='windows-window-content-div'><content>",t+=i,t+="</content></div>\n",t+="  </div>\n",t+="</div>\n",e.insertAdjacentHTML("afterbegin",t),!0}},await:{arr:[],add:e=>{Win.service.await.arr.push(e)},find:e=>{let t=!1;for(const i in Win.service.await.arr)Object.hasOwnProperty.call(Win.service.await.arr,i)&&Win.service.await.arr[i].name==e&&(t=Win.service.await.arr[i],Win.service.await.arr.splice(i,1));return t}},getLine:function(e){try{var t=(new Error).stack.split("\n")[(e||1)+1].split(":");return parseInt(t[t.length-2],10)}catch(e){return}},getLines:function(e){let t=window.getComputedStyle(e);var i=t.getPropertyValue("line-height").match(/normal/iu)?Math.round(1.227273*parseFloat(t.getPropertyValue("font-size"))):t.getPropertyValue("line-height").match(/em/iu)?parseFloat(t.getPropertyValue("line-height"))*parseFloat(t.getPropertyValue("font-size")):t.getPropertyValue("line-height").match(/%/iu)?parseFloat(t.getPropertyValue("font-size"))*(parseFloat(t.getPropertyValue("line-height"))/100):t.getPropertyValue("line-height").match(/px/iu)?parseFloat(t.getPropertyValue("line-height")):parseFloat(t.getPropertyValue("line-height"))*parseFloat(t.getPropertyValue("font-size"));return parseInt(e.offsetHeight/i)},events:{scrollVar:{paddingTop:0,setTimeout:void 0,eventAction:!1},scroll:function(e){const t=e.srcElement;t.parentElement.getClientRects()[0].top;const i=t.parentElement,n=t.querySelector(".windows-window-content-div");var s,o=t.scrollHeight,r=t.getClientRects()[0].height,a=(t.getClientRects()[0].top,t.scrollTop),c=parseFloat(getComputedStyle(document.body).getPropertyValue("--win-radius-lg"));document.documentElement.clientWidth<=500&&(i.style.transition="0s all",p=a<=50?{bottom:10+(s=2*a)/100*-10,height:.85*document.documentElement.clientHeight+(+window.innerHeight-.85*document.documentElement.clientHeight)*(s/100)+(document.documentElement.clientHeight-(i.getBoundingClientRect().height+i.getBoundingClientRect().top)),widthBig:80+s/100*-21,width:60+(2*parseFloat(getComputedStyle(i).getPropertyValue("padding"))-60)*(s/100),radius:c+s/100*(0-c),padding:s}:{bottom:0,height:+window.innerHeight+1,widthBig:59,width:2*parseFloat(getComputedStyle(i).getPropertyValue("padding")),radius:0,padding:100},null!=i.querySelector(".windows-window-title")&&(c=Win.service.getLines(i.querySelector(".windows-window-title")),s=i.querySelector(".windows-window-title").getBoundingClientRect().height/c*(c-1),t.style.height=0<s?`calc(95% - ${s}px)`:0==c?"100%":"95%"),50<a?(null==i.getAttribute("full")&&i.setAttribute("full",""),null==i.getAttribute("big")?i.style.width="calc(100vw - "+p.width+"px)":i.style.width="calc(100vw - "+p.widthBig+"px)",i.style.height="calc(100% - "+ +parseFloat(getComputedStyle(i).getPropertyValue("padding"))+"px)",i.style.borderRadius=p.radius+"px",i.style.transform="translate(-50%, "+-p.bottom+"px)",i.querySelector(".windows-window-close").removeAttribute("active")):(i.querySelector(".windows-window-close").setAttribute("active",""),null!=i.getAttribute("big")?0==a?(r<o-100&&i.getAttribute("full"),i.style.height="calc(85vh - 9px)",i.style.width="",i.style.borderRadius=""):(i.style.height="calc("+p.height+"px - "+ +parseFloat(getComputedStyle(i).getPropertyValue("padding"))+"px)",i.style.width="calc(100vw - "+p.widthBig+"px)",i.style.borderRadius=p.radius+"px"):0==a?(r<o-100&&i.getAttribute("full"),i.style.height="calc(85vh - 9px)",i.style.width="",i.style.borderRadius=""):(i.style.height="calc("+p.height+"px - "+ +parseFloat(getComputedStyle(i).getPropertyValue("padding"))+"px)",i.style.width="calc(100vw - "+p.width+"px)",i.style.borderRadius=p.radius+"px"),i.style.transform="translate(-50%, "+-p.bottom+"px)",null!=i.getAttribute("full")&&i.removeAttribute("full"),null==i.getAttribute("big")?i.style.width="calc(100vw - "+p.width+"px)":i.style.width="calc(100vw - "+p.widthBig+"px)"),n.style.paddingTop=p.padding/2+"px",clearTimeout(Win.service.events.scrollVar.setTimeout),Win.service.events.scrollVar.setTimeout=setTimeout(()=>{i.style.transition=""},100),a<=50?Win.service.events.scrollVar.eventAction&&(Win.service.events.scrollVar.eventAction=!1,Win.service.log("Окно приняло стандартный размер",void 0,void 0,__LINE__),document.dispatchEvent(new CustomEvent(Win.cfg.events.winMinSize.name,{detail:{name:e.srcElement.parentElement.getAttribute("id"),container:e.srcElement.querySelector(".windows-window-content-div content")}}))):Win.service.events.scrollVar.eventAction||(Win.service.events.scrollVar.eventAction=!0,Win.service.log("Окно приняло полный размер рабочей области",void 0,void 0,__LINE__),document.dispatchEvent(new CustomEvent(Win.cfg.events.winFullSize.name,{detail:{name:e.srcElement.parentElement.getAttribute("id"),container:e.srcElement.querySelector(".windows-window-content-div content")}}))))},swipe:{var:{x_start:void 0,y_start:void 0,x_move:void 0,y_move:void 0,x_end:void 0,y_end:void 0,x_distance:0,y_distance:void 0,speed:void 0,duration:void 0,last_duration:void 0,block:void 0,transition:void 0,y_percent:0,x_percent:0,time:0,time_interval:void 0,diss:void 0,i:0,status:!1,status_right:!0,f:!0},start:function(e,t){Win.service.events.swipe.var.transition=window.getComputedStyle(e).getPropertyValue("transition"),Win.service.events.swipe.var.time=0,Win.service.events.swipe.var.diss=0,Win.service.events.swipe.var.x_start=t.touches[0].clientX,Win.service.events.swipe.var.y_start=t.touches[0].clientY,Win.service.events.swipe.var.block=e,Win.service.events.swipe.var.f=!0;let i=t.composedPath?t.composedPath():t.path;i.forEach(function(e,t){null!=e.getAttribute&&null!==e.getAttribute("swipenone")&&(0===e.scrollTop&&0===e.scrollLeft||(Win.service.events.swipe.var.f=!1))}),Win.service.events.swipe.var.f&&null==Win.service.events.swipe.var.block.getAttribute("full")?Win.service.events.swipe.var.status=!0:Win.service.events.swipe.var.status=!1,1!=t.targetTouches.length&&(Win.service.events.swipe.var.status=!1)},move:function(e,t){let i=t.composedPath?t.composedPath():t.path;if(i.forEach(function(e,t){null!=e.getAttribute&&null!==e.getAttribute("swipenone")&&0!==e.scrollTop&&(Win.service.events.swipe.var.f=!1)}),Win.service.events.swipe.var.f&&null==Win.service.events.swipe.var.block.getAttribute("full")||(Win.service.events.swipe.var.status=!1),Win.service.events.swipe.var.status){var n=Win.service.events.swipe.var.y_start-t.touches[0].clientY>Win.service.events.swipe.var.y_distance?"top":Win.service.events.swipe.var.y_start-t.touches[0].clientY<Win.service.events.swipe.var.y_distance?"bottom":Win.service.events.swipe.var.x_start-t.touches[0].clientX<Win.service.events.swipe.var.x_distance?"right":Win.service.events.swipe.var.x_start-t.touches[0].clientX>Win.service.events.swipe.var.x_distance?"left":Win.service.events.swipe.var.last_duration;if(Win.service.events.swipe.var.last_duration!=n?(Win.service.events.swipe.var.time=0,Win.service.events.swipe.var.diss=0):Win.service.events.swipe.var.diss++,Win.service.events.swipe.var.last_duration=n,Win.service.events.swipe.var.x_move=t.touches[0].clientX,Win.service.events.swipe.var.y_move=t.touches[0].clientY,Win.service.events.swipe.var.x_distance=Win.service.events.swipe.var.x_start-Win.service.events.swipe.var.x_move,Win.service.events.swipe.var.y_distance=Win.service.events.swipe.var.y_start-Win.service.events.swipe.var.y_move,Win.service.events.swipe.var.xy_distance=Math.sqrt(Math.pow(Win.service.events.swipe.var.x_distance,2)+Math.pow(Win.service.events.swipe.var.y_distance,2)),Win.service.events.swipe.var.time++,Win.service.events.swipe.var.block.style.transition="0s all",t.stopImmediatePropagation(),t.stopPropagation(),Win.service.events.swipe.var.i<3)Math.abs(Win.service.events.swipe.var.x_distance)>Math.abs(Win.service.events.swipe.var.y_distance)?0<Win.service.events.swipe.var.x_distance?Win.service.events.swipe.var.duration="left":Win.service.events.swipe.var.duration="right":0<Win.service.events.swipe.var.y_distance?Win.service.events.swipe.var.duration="top":Win.service.events.swipe.var.duration="bottom",Win.service.events.swipe.var.i++;else{if("bottom"==Win.service.events.swipe.var.duration&&Win.service.events.swipe.var.y_distance<=0&&(document.documentElement.clientWidth<=500?Win.service.events.swipe.var.block.style.transform="translate(-50%, "+(-Win.service.events.swipe.var.y_distance-10)+"px)":Win.service.events.swipe.var.block.style.transform="translate(-50%, calc(-50% - "+Win.service.events.swipe.var.y_distance+"px))",e.querySelector(".windows-window-content").style.overflow="hidden"),"right"==Win.service.events.swipe.var.duration){var s,t=Win.live().querySelector("*[back]").getAttribute("onclick");if(null==t)Win.service.events.swipe.var.status_right=!1;else if(0==t.length)Win.service.events.swipe.var.status_right=!1;else try{Win.service.events.swipe.var.status_right=!0}catch(e){}Win.service.events.swipe.var.status_right&&Win.service.events.swipe.var.x_distance<=0&&(document.documentElement.clientWidth<=500?(Math.abs(100*Win.service.events.swipe.var.x_distance/this.offsetWidth),s=.35*Math.abs(Win.service.events.swipe.var.x_distance),e=3*Win.service.events.swipe.var.x_percent,t=.5*Win.service.events.swipe.var.x_percent,Win.service.events.swipe.var.block.style.transform="translate(calc(-50% + "+s+"px), calc(-10px + "+e+"px)) rotate("+t+"deg)"):(s=Math.abs(Win.service.events.swipe.var.x_distance),Win.service.events.swipe.var.block.style.transform="translate(calc(-50% + "+s+"px), -50%)"))}0!=Win.service.events.swipe.var.x_distance&&0!=Win.service.events.swipe.var.y_distance||(Win.service.events.swipe.var.time=0)}}},end:function(t,e){if(Win.service.events.swipe.var.status){if(Win.service.events.swipe.var.x_end=e.changedTouches[0].pageX,Win.service.events.swipe.var.y_end=e.changedTouches[0].pageY,Win.service.events.swipe.var.x_distance=Win.service.events.swipe.var.x_start-Win.service.events.swipe.var.x_end,Win.service.events.swipe.var.y_distance=Win.service.events.swipe.var.y_start-Win.service.events.swipe.var.y_end,Win.service.events.swipe.var.y_percent=Math.abs(100*Win.service.events.swipe.var.y_distance/t.offsetHeight),Win.service.events.swipe.var.x_percent=Math.abs(100*Win.service.events.swipe.var.x_distance/t.offsetWidth),Win.service.events.swipe.var.xy_distance=Math.sqrt(Math.pow(Win.service.events.swipe.var.x_distance,2)+Math.pow(Win.service.events.swipe.var.y_distance,2)),Win.service.events.swipe.var.speed=Math.abs(Win.service.events.swipe.var.diss/Win.service.events.swipe.var.time),Win.service.events.swipe.var.i=0,t.querySelector(".windows-window-content").style.overflow="",Win.service.events.swipe.var.speed!=1/0&&(40<Win.service.events.swipe.var.y_percent||200<Math.abs(Win.service.events.swipe.var.y_distance)||40<Win.service.events.swipe.var.x_percent))if(Win.service.events.swipe.var.speed<.96?Win.service.events.swipe.var.block.style.transition=Win.service.events.swipe.var.speed/3+"s all":Win.service.events.swipe.var.block.style.transition=Win.service.events.swipe.var.transition,"bottom"==Win.service.events.swipe.var.duration)"bottom"==Win.service.events.swipe.var.last_duration?Win.close():(document.documentElement.clientWidth<=500?Win.service.events.swipe.var.block.style.transform="translate(-50%, -10px)":Win.service.events.swipe.var.block.style.transform="translate(-50%, -50%)",Win.service.events.swipe.var.block.style.transition=Win.service.events.swipe.var.speed/3+"s all",setTimeout(function(){Win.service.events.swipe.var.block.style.transition=Win.service.events.swipe.var.transition},100));else if("right"==Win.service.events.swipe.var.duration){let e=!1;e=(Win.service.events.swipe.var.status_right&&("right"!=Win.service.events.swipe.var.last_duration&&"bottom"!=Win.service.events.swipe.var.last_duration||null!=(t=Win.live().querySelector("*[back]").getAttribute("onclick"))&&t.length),!0),e&&(document.documentElement.clientWidth<=500?Win.service.events.swipe.var.block.style.transform="translate(-50%, -10px)":Win.service.events.swipe.var.block.style.transform="translate(-50%, -50%)",Win.service.events.swipe.var.block.style.transition=Win.service.events.swipe.var.speed/3+"s all",setTimeout(function(){Win.service.events.swipe.var.block.style.transition=Win.service.events.swipe.var.transition},100))}else Win.service.events.swipe.var.block.style.transition=Win.service.events.swipe.var.transition,document.documentElement.clientWidth<=500?Win.service.events.swipe.var.block.style.transform="translate(-50%, -10px)":Win.service.events.swipe.var.block.style.transform="translate(-50%, -50%)";else Win.service.events.swipe.var.block.style.transition=Win.service.events.swipe.var.transition,document.documentElement.clientWidth<=500?null!==Win.service.events.swipe.var.block.getAttribute("full")?Win.service.events.swipe.var.block.style.transform="translate(-50%, 0px)":Win.service.events.swipe.var.block.style.transform="translate(-50%, -10px)":Win.service.events.swipe.var.block.style.transform="translate(-50%, -50%)";Win.service.events.swipe.var.duration=void 0}}}}}};